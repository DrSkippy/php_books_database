<!DOCTYPE html>
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="table-style.css">
</head>
<body>
<h1>Book Search</h1>
<form action="/php_books_database/tools/html/book.html">
    <label for="fname">Author:</label><br>
    <input type="text" id="author" name="author">
    <input type="submit" value="Submit">
</form>
<form action="/php_books_database/tools/html/book.html">
    <label for="lname">Title:</label><br>
    <input type="text" id="title" name="title">
    <input type="submit" value="Submit">
</form>

<h1>Yearly Reports</h1>
<table id='mytable' class="styled-table">
    <thead>
    <tr>
        <th>Reports</th>
        <th>Pages</th>
        <th>Books</th>
    </tr>
    </thead>
    <tbody>
    <div>
    </div>
    </tbody>
</table>
<script>
    $(document).ready(function () {
        var url1 = "http://192.168.127.8/books/summary_books_read_by_year";
        $.getJSON(url1, function (data) {
            var obj = data['data'];
            for (var i = 0; i < obj.length; i++) {
                var url = new URL("/php_books_database/tools/html/books_read_by_year.html", window.location);
                url.searchParams.append("year", obj[i][0]);
                var tr = "<tr>" +
                    "<td><a href=" + url.href + ">" + obj[i][0] + "</a></td>" +
                    "<td>" + obj[i][1] + "</td>" +
                    "<td>" + obj[i][2] + "</td></tr>";
                $("#mytable").append(tr);
            }
        });
    })

</script>
</body>
</html>

